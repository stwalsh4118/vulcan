# [3-5] Workload List Page with Pagination & Filtering

[Back to task list](./tasks.md)

## Description

Build the workload list page at `/workloads` with a paginated table of all workloads, status filtering, and navigation to detail pages.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2026-02-19 05:13:20 | Created | N/A | Proposed | Task file created | AI_Agent |
| 2026-02-19 05:33:11 | Status Change | Proposed | InProgress | Started implementation | AI_Agent |
| 2026-02-19 05:34:12 | Status Change | InProgress | Review | Implementation complete, internal AI review passed | AI_Agent |
| 2026-02-19 06:18:27 | Status Change | Review | Done | Task completed and verified | AI_Agent |

## Requirements

1. Route: `/workloads`.
2. Paginated workload table using `GET /v1/workloads` with `limit` and `offset` query params:
   - Columns: ID, Status (badge), Runtime, Isolation, Created, Duration
   - Each row links to `/workloads/[id]`
3. Pagination controls (previous/next) reflecting `total`, `limit`, `offset` from the API response.
4. Status filter — allow filtering the displayed list by status (pending, running, completed, failed, killed, or all).
5. Data fetched using React Query hooks from task 3-2, re-fetching when filter or page changes.
6. Loading and empty states.

## Implementation Plan

1. Create `web/src/app/workloads/page.tsx` — workload list page.
2. Add filter bar with status buttons/tabs (all, pending, running, completed, failed, killed).
3. Add workload table with columns and row links.
4. Add pagination controls using URL search params or local state.
5. Wire up `useWorkloads({ limit, offset })` hook with reactive params.
6. Note: Status filtering is client-side (API doesn't have a status filter param) — filter the returned list, or implement as URL state for future backend filtering support.

## Test Plan

- Page renders with workload table showing data from API.
- Pagination controls advance/retreat through pages correctly.
- Status filter narrows the displayed workloads.
- Empty state renders when no workloads match.
- Row clicks navigate to `/workloads/[id]`.
- TypeScript compilation passes.

## Verification

- `pnpm build` succeeds with no errors.
- Workload table renders with ID, status badge, runtime, isolation, created, duration columns.
- Pagination controls (previous/next) with page indicator.
- Status filter buttons for all 5 statuses + "all".
- Client-side filtering applied to API results.
- Empty state for no matches.
- Row IDs link to /workloads/[id].

## Files Modified

- `web/src/app/workloads/page.tsx` — workload list page with pagination and filtering
